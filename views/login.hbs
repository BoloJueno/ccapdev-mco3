{{> header}}

{{!-- <div class="alert alert-warning alert-dismissible fade show w-100 mx-auto mb-4 justify-content-center" role="alert" style="position: fixed; z-index: 2; top: 72px; text-align: center;">
    <!-- Student Credentials: <strong>stud/studpass</strong>; Lab Technician Credentials: <strong>lab/labpass</strong> -->
    <strong>Student Credentials: </strong> stud/studpass<strong> &emsp;Lab Technician Credentials: </strong> lab/labpass
    <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
</div> --}}
<div id="liveAlertPlaceholder"></div>{{!-- login failed alert --}}

<div class="main-container">
    <div class="login-container"> <!-- contains the form seen on the left side of the screen -->
        <div id="welcome">Welcome Back!</div>
        <div>
            <form class="login-form" method="POST" id="loginForm" action="/login">  
                <input type="text" class="form-input" id="email" name="email" placeholder="Email address" required>
                <br>
                <input type="password" class="form-input" id="password" name="password" placeholder="Password" required>
                
                <!-- to see the typed password -->
                <span class="field-icon" id="field-icon" onclick="togglePass()">
                <i class="fa fa-eye-slash"></i>
                </span>
                <!-- end of password-related content -->
                <br>
                <br>
                <!-- form-check for remember me feature -->
                <div class="form-check">
                <input class="form-check-input" type="checkbox" value="" id="rememberMeBox" name="rememberMeBox">
                <label class="form-check-label" for="rememberMeBox">
                    Remember Me
                </label>
                </div>
                <!-- end of remember-me-related content -->
                
                <input type="submit" id="login-button" value="Login" onclick="loginUser()">
            </form>

            <div id="register">
                Don't have an account? <span style="font-weight: bold;"> <a href="/register2" id="register-link">Register Here</a></span>
            </div>
            </div> <!-- end of div for the whole content of the forms -->
    </div> <!-- end of login-container -->

    <div class="image-container"> <!-- containes the image used seen on the right side of the page -->
        <div class="quote-1" style="font-size: 50px; font-weight: bold;">"All the world is a laboratory to the inquiring mind"</div>
        <div class="quote-1" style="font-size: 30px;">-Martin H. Fischer</div>
    </div>  <!-- end of image-container -->
</div>

<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">

<script src="../js/login_page.js"></script> <!-- js used for toggle password -->

<script>
    var loginCred = {
    "student": ["stud", "studpass"],
    "labTech": ["lab", "labpass"]
    }

    const alertPlaceholder = document.getElementById('liveAlertPlaceholder')
	const appendAlert = (message, type) => {
		const wrapper = document.createElement('div')
		wrapper.innerHTML = [
			`<div class="alert alert-${type} alert-dismissible mx-auto w-100 mb-4 fade show justify-content-center" role="alert" style="position: fixed; z-index: 2; top: 72px; text-align: center;">`,
			`   <div>${message}</div>`,
			'   <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>',
			'</div>'
		].join('')
		
		alertPlaceholder.append(wrapper)
	}
	
	{{#if logInFail}}
    console.log("hello")
		appendAlert('<strong>Login Failed</strong>. Please input valid Credentials', 'danger')
	{{/if}}

    /*function loginUser() {
        if ($("#email").val() === loginCred["student"][0] && $("#password").val() === loginCred["student"][1]) {//if user is student
            $("#loginForm").attr('action', 'index.html?userType=1');
        } else if ($("#email").val() === loginCred["labTech"][0] && $("#password").val() === loginCred["labTech"][1]) {//if user is lab tech
            $("#loginForm").attr('action', 'index.html?userType=2');
        } else {
            $("#loginForm").attr('action', 'index.html');
        }
    }*/
</script>
<script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.8/dist/umd/popper.min.js" integrity="sha384-I7E8VVD/ismYTF4hNIPjVp/Zjvgyol6VFvRkX/vR+Vc4jQkC+hVqc2pM8ODewa9r" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL" crossorigin="anonymous"></script>		
